<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>

    <body>
        <script>
            //function to generate computer's choice
            function getComputerChoice() {
                let result = Math.floor(Math.random() * 3);

                switch(result) {
                    case 0: 
                        console.log("Rock");
                        return 'Rock';
                        break;
                    case 1:
                        console.log("Paper");
                        return 'Paper';
                        break;
                    case 2:
                        console.log("Scissors");
                        return 'Scissors';
                        break;
                    default:
                        console.log("Invalid choice");
                }
            }

            //function to compare the player's and computer's choice
            function playRound(playerSelection, computerSelection) {
                player = playerSelection.toLowerCase();
                computer = computerSelection.toLowerCase();
                
                switch(player) {
                    //if the user chooses "rock"
                    case 'rock':
                        if (computer === 'rock')
                        {
                            return "It is a tie.";
                        }
                        else if (computer === 'paper')
                        {
                            return "You lose! Paper beats Rock.";
                        }
                        else if (computer === 'scissors')
                        {
                            return "You win! Rock beats Scissors.";
                        }
                        break;
                    //if the user chooses "paper"
                    case 'paper':
                        if (computer === 'rock')
                        {
                            return "You win! Paper beats Rock.";
                        }
                        else if (computer === 'paper')
                        {
                            return "It is a tie.";
                        }
                        else if (computer === 'scissors')
                        {
                            return "You lose! Scissors beat Paper.";
                        }
                        break;
                    //if the user chooses "scissors"
                    case 'scissors':
                        if (computer === 'rock')
                        {
                            return "You lose! Rock beats Scissors.";
                        }
                        else if (computer === 'paper')
                        {
                            return "You win! Scissors beat Paper.";
                        }
                        else if (computer === 'scissors')
                        {
                            return "It is a tie.";
                        }
                        default:
                            return "Invalid input from the user";
                        break;
                }
            }

            //function to play 5 rounds of Rock-Paper-Scissors game & keep track of user's score
            function game() {
                let score = 0;
                for (let i = 0; i < 5; i++)
                {
                    console.log("Round " + (i+1) + ":");
                    //getting input from the user
                    let playerSelection = prompt("Choose among Rock, Paper, and Scissors: ");
                    // //in case the user inputs invalid choice (ex. misspelling)
                    // while (playerSelection.toLowerCase() !== "rock" || playerSelection.toLowerCase() !== "paper" || playerSelection.toLowerCase() !== "scissors")
                    // {
                    //     playerSelection = prompt("Invalid input. Choose among Rock, Paper, and Scissors: ");

                    //     if (playerSelection.toLowerCase === "rock" || playerSelection.toLowerCase() === "paper" || playerSelection.toLowerCase() === "scissors")
                    //     {
                    //         break;
                    //     }
                    // }
                    //generating random choice from the computer
                    const computerSelection = getComputerChoice();

                    //calling playRound function to see which one wins
                    let result = playRound(playerSelection, computerSelection);
                    console.log(result);

                    //if the user wins, then increment the score by 1 point
                    if (result.includes("win"))
                    {
                        score++;
                    }
                }
                return score;
            }

            //variable to store user's total score
            let score = game();
            //outputs user's total score
            console.log("You have received " + score + " points in total.");
        </script>
    </body>
</html>